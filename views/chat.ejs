<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Chat Room <%= roomKey %></title>
  <link rel="stylesheet" href="/stylesheets/chat.css">
</head>
<body>
  <div class="chat-container">
    <h1>Vibe Room (<%= roomKey %>)</h1>
    <div id="messages" class="messages"></div>

    <form id="chatForm" class="chat-form">
      <input id="messageInput" type="text" placeholder="Type your message..." autocomplete="off" required />
      <button type="submit">Send</button>
    </form>
  </div>

  <!-- Prompt user for username (since router does not pass it) -->
  <script>
    let CURRENT_USER = prompt("Enter your username:", "Guest");
    if (!CURRENT_USER || CURRENT_USER.trim() === "") CURRENT_USER = "Guest";
    window.CURRENT_USER = CURRENT_USER;
    const ROOM_KEY = "<%= roomKey %>";
  </script>

  <!-- Socket.io -->
  <script src="/socket.io/socket.io.js"></script>
  <!-- Custom JS -->
  <script src="/javascripts/chat.js"></script>
</body>
</html>
